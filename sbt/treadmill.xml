<mujoco>
    <compiler autolimits="true"/>
    
    <option gravity = "0 0 -9.81" timestep="0.01" />

    <default>

        <geom density="5.0" rgba="0.8 0 0.6 1" size="0.05" friction="3 0 0"/>
        <joint armature="1" damping="0" limited="false"/>

    </default>
    
    <asset>
    
        <texture name="grid" type="2d" builtin="checker" rgb1="1 1 1" rgb2=".5 .5 .5" width="300" height="300" mark="edge" markrgb=".2 .3 .4"/>
        <material name="grid" texture="grid" texrepeat="4 4" texuniform="true"/>
        <texture type="skybox" builtin="gradient" rgb1=".3 .5 .7" rgb2="1 1 1" width="32" height="512"/>
        
    </asset>

    <worldbody>

        <light pos="0 0 40" dir="0 0 -1"/>

        <body pos="1.01 0 0.5" axisangle="1 0 0 0">
            <geom name="redbelt" type="box" size="1 20 0.3" rgba="1 0 0 1"  material="grid" mass="10"/>
            <joint name="redconveyor" type="slide" pos="0 -10 0" axis="0 1 0" range="-20 20"/>
            <site name="redbeltsite" type="sphere" size="0.05" pos="0 0 0"/>
            <site name="forceSiteR" type="box" pos="0 0 0.31" size="1 20 0.01" rgba="1 1 1 0.1"/>
        </body>

        <body pos="-1.01 0 0.5" axisangle="1 0 0 0">
            <geom name="bluebelt" type="box" size="1 20 0.3" rgba="0 0 1 1" material="grid" mass="10"/>
            <joint name="blueconveyor" type="slide" pos="0 -10 0" axis="0 1 0" range="-20 20"/>
            <site name="bluebeltsite" type="sphere" size="0.05" pos="0 0 0"/>
            <site name="forceSiteB" type="box" pos="0 0 0.31" size="1 20 0.01" rgba="1 1 1 0.1"/>
        </body>

        <body pos="-15 0 3" axisangle="0 1 0 -90">
            <camera name="axlecam" pos="0 0 0" axisangle="0 0 1 -90"/>
        </body>

        <body pos="0 0 2.83">

            <geom name="axlebase" type="cylinder" size="0.15 .5" axisangle="0 1 0 90" density="10"/>
            <joint name="axleZAxis" type="slide" axis="0 0 1"/>
            <joint name="axleYAxis" type="slide" axis="0 1 0"/>
            <joint type="hinge" axis="1 0 0"/>
            <site name="axlesite" type="sphere" size="0.01" pos="0 0 0"/>

            <body pos="0.5 0 0" axisangle="1 0 0 0">
                <!--joint name="axleL" type="hinge" axis="-1 0 0" pos="0 0 0"/-->
                <geom name="RL1" type="capsule" fromto="0 0 0  0 0 2" rgba="0 0 1 1"/>
                <site name="RL1site" type="sphere" size="0.06" pos="0 0 2"/>
                <body pos="0 0 0" axisangle="1 0 0 40">
                    <geom name="RL2" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL2site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 80">
                    <geom name="RL3" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL3site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 120">
                    <geom name="RL4" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL4site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 160">
                    <geom name="RL5" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL5site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 200">
                    <geom name="RL6" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL6site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 240">
                    <geom name="RL7" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL7site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 280">
                    <geom name="RL8" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL8site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 320">
                    <geom name="RL9" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RL9site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
            </body>

            <body pos="-0.5 0 0" axisangle="1 0 0 -1">
                <!--joint name="axleR" type="hinge" axis="1 0 0" pos="0 0 0"/-->
                <body pos="0 0 0" axisangle="1 0 0 9">
                    <geom name="RR1" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR1site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 49">
                    <geom name="RR2" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR2site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 89">
                    <geom name="RR3" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR3site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 129">
                    <geom name="RR4" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR4site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 169">
                    <geom name="RR5" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR5site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 209">
                    <geom name="RR6" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR6site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 249">
                    <geom name="RR7" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR7site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 289">
                    <geom name="RR8" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR8site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
                <body pos="0 0 0" axisangle="1 0 0 329">
                    <geom name="RR9" type="capsule" fromto="0 0 0  0 0 2"/>
                    <site name="RR9site" type="sphere" size="0.01" pos="0 0 2"/>
                </body>
            </body>
        </body>
        
    </worldbody>

    <actuator>
    
        <general name="redbeltact" joint="redconveyor" biastype="affine" gainprm="1" biasprm="0"/>
        <general name="bluebeltact" joint="blueconveyor" biastype="affine" gainprm="1" biasprm="0"/>
    
    </actuator>

    <sensor>
        <force site="forceSiteR"/>
        <force site="forceSiteB"/>
        <velocimeter name="axle_velocimeter" site="axlesite"/>
    </sensor>

</mujoco>
